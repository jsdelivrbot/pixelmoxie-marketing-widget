.pmxWidgetModal-controls,
.pmxWidgetModal-controlGroup,
.pmxWidgetModal-controlGroupTitle {
	margin-top: $modal-base-line-height-unitless * 1em;
}

.pmxWidgetModal-controlGroupTitle + .pmxWidgetModal-controlWrap {
	margin-top: $modal-base-line-height-unitless * 0.5em;
}

.pmxWidgetModal-controls {
	@include clearfix;
}

.pmxWidgetModal-controlGroup {
	display: block;
	float: left;
	width: 47.5%;

	&:nth-child(even) {
		margin-right: 5%;
	}
}

.pmxWidgetModal-controlWrap {
	display: block;

	+ .pmxWidgetModal-controlWrap {
		margin-top: $modal-base-line-height-unitless * 0.5em;
	}
}

.pmxWidgetModal-control {
	@include to-em(padding-left, $controls-size + 10, $modal-base-font-size);
	position: relative;
	display: inline-block;
	padding-right: 0.5em;
	font-weight: 600;
	cursor: pointer;
	transition: color 0.2s;
	user-select: none;

	input {
		position: absolute;
		z-index: -1;
		opacity: 0;
	}
}

.pmxWidgetModal-controlIndicator {
	@include size(to-em($controls-size, $modal-base-font-size));
	@include to-em(top, ($modal-base-line-height - ($controls-size + 2)) * 0.5, $modal-base-font-size);
	position: absolute;
	left: 0;
	background-color: $seafoam;
	box-sizing: content-box;
	background-clip: content-box;
}


.pmxWidgetModal-radio,
.pmxWidgetModal-switch {
	@include to-em(padding-left, floor($controls-size * 5 / 3) + 10, $modal-base-font-size);

	.pmxWidgetModal-controlIndicator {
		@include to-em(width, floor($controls-size * 5 / 3), $modal-base-font-size);
		background-color: $switch-bg-color;
		border: 1px solid $switch-border-color;
		border-radius: $pill-border-radius;
		transition: border 0.4s, box-shadow 0.4s, background 0.2s;

		small {
			@include size(to-em($controls-size, $modal-base-font-size));
			@include position(absolute, 0 null null 0);
			font-size: 1em;
			background-color: $white;
			border-radius: $pill-border-radius;
			box-shadow: 0 1px 3px black(0.4);
			transition: left 0.2s;
		}
	}
}

// Hover and focus states
.pmxWidgetModal-control:hover {
	color: $panel-base-text-color-emphasis;
}

.pmxWidgetModal-radio:hover input ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-radio input:focus ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-switch:hover input ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-switch input:focus ~ .pmxWidgetModal-controlIndicator {
	background-color: $switch-bg-color-enter;
	border-color: $switch-border-color-enter;
	transition: border 0.4s, box-shadow 0.4s, background 0.2s;
}

// Checked state
.pmxWidgetModal-radio input:checked ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-switch input:checked ~ .pmxWidgetModal-controlIndicator {
	background-color: $switch-bg-color-checked;
	border-color: $switch-bg-color-checked;
	box-shadow: inset 0 0 0 $controls-size * 0.5px $switch-bg-color-checked;
	transition: border 0.4s, box-shadow 0.4s, background 1.2s;

	small {
		left: (floor($controls-size * 5 / 3) - $controls-size) * 1px;
	}
}

// Hover state whilst checked
.pmxWidgetModal-radio:hover input:not([disabled]):checked ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-radio input:checked:focus ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-switch:hover input:not([disabled]):checked ~ .pmxWidgetModal-controlIndicator,
.pmxWidgetModal-switch input:checked:focus ~ .pmxWidgetModal-controlIndicator {
	background-color: $switch-bg-color-checked-enter;
	border-color: $switch-bg-color-checked-enter;
	box-shadow: inset 0 0 0 $controls-size * 0.5px $switch-bg-color-checked-enter;
}
